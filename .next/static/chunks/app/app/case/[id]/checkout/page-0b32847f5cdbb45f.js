(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{3406:function(e,t,a){Promise.resolve().then(a.bind(a,9104))},9104:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var r=a(225),n=a(3943);function u(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),a=e.id;return(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseId:a})}),r=await e.json();e.ok&&r.url?window.location.href=r.url:(alert(r.error||"Failed to start checkout"),t.replace("/app/case/".concat(a,"/dashboard")))}catch(e){console.error("checkout error",e),alert("Failed to start checkout"),t.replace("/app/case/".concat(a,"/dashboard"))}})()},[a,t]),null}},3943:function(e,t,a){"use strict";var r=a(3747);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[660,648,744],function(){return e(e.s=3406)}),_N_E=e.O()}]);