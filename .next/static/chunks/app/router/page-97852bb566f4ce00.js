(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{5145:function(e,t,r){Promise.resolve().then(r.bind(r,2026))},2026:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var n=r(1155),s=r(225),a=r(3943),i=r(7918),o=r(710),c=r(6154),l=r(6676),d=r(2680),u=r(6382),m=r(2116),h=r(8566),x=r(923),f=r(4149),v=r(5703);function g(){let[e,t]=(0,s.useState)(!1),[r,g]=(0,s.useState)(null),[p,b]=(0,s.useState)([]),[y,j]=(0,s.useState)(""),[w,N]=(0,s.useState)(!1),[k,_]=(0,s.useState)(null),[S,A]=(0,s.useState)("text"),C=(0,a.useRouter)();(0,s.useEffect)(()=>{(async()=>{if(!(0,v.YW)()){let e=await (0,v.At)();e&&_(e.id)}})()},[]);let Z=async()=>{if(e)try{null==r||r.stop()}finally{t(!1),console.log("[v0] Stopped recording")}else try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),r=new MediaRecorder(e),n=[];r.ondataavailable=e=>{e.data&&e.data.size>0&&n.push(e.data)},r.onstop=async()=>{try{let e=new Blob(n,{type:"audio/webm"}),t=new FormData;t.append("audio",e,"recording.webm");let r=await fetch("/api/transcribe",{method:"POST",body:t}),s=await r.json();r.ok&&s.transcription?j(s.transcription):alert(s.error||"Transcription failed")}catch(e){console.error("[v0] Transcription upload error:",e),alert("Failed to transcribe recording")}finally{b([])}},r.start(),g(r),b(n),t(!0),console.log("[v0] Started recording")}catch(e){console.error("[v0] Error accessing microphone:",e),alert("Unable to access microphone. Please check your permissions.")}},z=async()=>{if(y.trim()){N(!0);try{let e=(0,v.YW)();if(!e)throw Error("No session token found");await (0,v.lA)(e,{dispute_narrative:y}),C.push("/router/classify")}catch(e){console.error("[v0] Error submitting narrative:",e),alert("Something went wrong. Please try again.")}finally{N(!1)}}};return(0,n.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,n.jsx)("header",{className:"border-b border-border/50 bg-card/50 backdrop-blur-sm sticky top-0 z-10",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(f.default,{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-primary-foreground font-bold text-sm",children:"GB"})}),(0,n.jsx)("span",{className:"font-semibold text-lg",children:"GuideBuoy AI"})]}),(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(l.C,{variant:"secondary",className:"hidden sm:inline-flex",children:"Free Dispute Check"}),(0,n.jsx)(f.default,{href:"/auth/login",children:(0,n.jsx)(o.z,{variant:"outline",size:"sm",children:"Sign In"})})]})]})})}),(0,n.jsx)("div",{className:"hero-gradient py-12 md:py-20",children:(0,n.jsx)("div",{className:"container mx-auto px-4",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto text-center",children:[(0,n.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-4 text-balance",children:"Tell us what happened with your bank or insurer"}),(0,n.jsx)("p",{className:"text-lg text-muted-foreground mb-8 text-pretty",children:"Share your story in your own words. Our AI will help determine if you have a case and guide you through the next steps."}),(0,n.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-8",children:[(0,n.jsx)(l.C,{variant:"outline",className:"text-sm",children:"100% Confidential"}),(0,n.jsx)(l.C,{variant:"outline",className:"text-sm",children:"No Sign-Up Required"}),(0,n.jsx)(l.C,{variant:"outline",className:"text-sm",children:"Takes 2 Minutes"})]})]})})}),(0,n.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,n.jsxs)("div",{className:"max-w-3xl mx-auto",children:[(0,n.jsxs)(i.Zb,{className:"shadow-lg",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{className:"text-2xl",children:"Share Your Dispute"}),(0,n.jsx)(i.SZ,{children:"Describe what happened in your own words. Include details like dates, amounts, and what the institution did or didn't do."})]}),(0,n.jsxs)(i.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsxs)(o.z,{variant:"text"===S?"default":"outline",onClick:()=>A("text"),className:"flex-1",children:[(0,n.jsx)(d.Z,{className:"h-4 w-4 mr-2"}),"Type It Out"]}),(0,n.jsxs)(o.z,{variant:"voice"===S?"default":"outline",onClick:()=>A("voice"),className:"flex-1",children:[(0,n.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Record Voice"]})]}),"text"===S&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)(c.g,{value:y,onChange:e=>j(e.target.value),placeholder:"Example: In March 2024, I transferred $50,000 to what I thought was my bank's investment account. The bank's website showed the transaction was successful, but the money never arrived. When I contacted them, they said it was sent to a scammer and refused to help recover it...",rows:10,className:"resize-none text-base"}),(0,n.jsxs)("p",{className:"text-sm text-muted-foreground",children:[y.length," characters • Aim for at least 100 characters for best results"]})]}),"voice"===S&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 border-2 border-dashed border-border rounded-lg bg-muted/20",children:[(0,n.jsx)("button",{onClick:Z,className:"w-20 h-20 rounded-full flex items-center justify-center transition-all ".concat(e?"bg-destructive text-destructive-foreground recording-pulse":"bg-primary text-primary-foreground hover:scale-105"),children:e?(0,n.jsx)(m.Z,{className:"h-8 w-8"}):(0,n.jsx)(u.Z,{className:"h-8 w-8"})}),(0,n.jsx)("p",{className:"mt-4 text-sm font-medium",children:e?"Recording... Click to stop":"Click to start recording"}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Speak clearly and include all relevant details"})]}),y&&(0,n.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,n.jsx)("p",{className:"text-sm font-medium mb-2",children:"Transcript:"}),(0,n.jsx)("p",{className:"text-sm",children:y})]})]}),(0,n.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[(0,n.jsx)("p",{className:"text-sm font-medium mb-2",children:"\uD83D\uDCA1 What to include:"}),(0,n.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,n.jsx)("li",{children:"• What type of financial product (bank account, insurance, investment, etc.)"}),(0,n.jsx)("li",{children:"• When the incident happened"}),(0,n.jsx)("li",{children:"• What went wrong and how much money is involved"}),(0,n.jsx)("li",{children:"• What the institution has said or done about it"}),(0,n.jsx)("li",{children:"• Any complaints you've already filed"})]})]}),(0,n.jsx)(o.z,{onClick:z,disabled:!y.trim()||w,size:"lg",className:"w-full",children:w?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing Your Case..."]}):(0,n.jsxs)(n.Fragment,{children:["Continue",(0,n.jsx)(x.Z,{className:"h-4 w-4 ml-2"})]})}),(0,n.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:["By continuing, you agree to our"," ",(0,n.jsx)(f.default,{href:"/privacy",className:"underline hover:text-foreground",children:"Privacy Policy"}),". Your data is encrypted and anonymized for AI training."]})]})]}),(0,n.jsxs)("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)(i.Zb,{className:"text-center p-6",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83D\uDD12"})}),(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Secure & Private"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your information is encrypted and never shared without permission"})]}),(0,n.jsxs)(i.Zb,{className:"text-center p-6",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)("span",{className:"text-2xl",children:"⚡"})}),(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Instant Analysis"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI-powered assessment in under 2 minutes"})]}),(0,n.jsxs)(i.Zb,{className:"text-center p-6",children:[(0,n.jsx)("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-3",children:(0,n.jsx)("span",{className:"text-2xl",children:"\uD83C\uDFAF"})}),(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Expert Guidance"}),(0,n.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get personalized next steps based on your situation"})]})]})]})})]})}},6676:function(e,t,r){"use strict";r.d(t,{C:function(){return c}});var n=r(1155);r(225);var s=r(6924),a=r(7987),i=r(2151);let o=(0,a.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,asChild:a=!1,...c}=e,l=a?s.g7:"span";return(0,n.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(o({variant:r}),t),...c})}},710:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var n=r(1155);r(225);var s=r(6924),a=r(7987),i=r(2151);let o=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2.5 has-[>svg]:px-4",sm:"h-9 gap-1.5 px-4 has-[>svg]:px-3.5",lg:"h-11 px-7 has-[>svg]:px-5",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:a,asChild:c=!1,...l}=e,d=c?s.g7:"button";return(0,n.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:a,className:t})),...l})}},7918:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return a},aY:function(){return l},ll:function(){return o}});var n=r(1155);r(225);var s=r(2151);function a(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...r})}function i(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...r})}function c(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",t),...r})}},6154:function(e,t,r){"use strict";r.d(t,{g:function(){return a}});var n=r(1155);r(225);var s=r(2151);function a(e){let{className:t,...r}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:(0,s.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-lg border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}},5703:function(e,t,r){"use strict";r.d(t,{At:function(){return i},PA:function(){return l},YW:function(){return s},dP:function(){return a},dv:function(){return o},lA:function(){return c}});var n=r(4607);function s(){return localStorage.getItem("router_session_token")}function a(){localStorage.removeItem("router_session_token")}async function i(){let e=(0,n.e)(),t="router_".concat(Date.now(),"_").concat(Math.random().toString(36).substring(2,15)),{data:r,error:s}=await e.from("router_sessions").insert({session_token:t,ip_address:null,user_agent:navigator.userAgent}).select().single();return s?(console.error("[v0] Error creating router session:",s),null):(localStorage.setItem("router_session_token",t),r)}async function o(e){let t=(0,n.e)(),{data:r,error:s}=await t.from("router_sessions").select("*").eq("session_token",e).single();return s?(console.error("[v0] Error fetching router session:",s),null):r}async function c(e,t){let r=(0,n.e)(),{data:s,error:a}=await r.from("router_sessions").update(t).eq("session_token",e).select().single();return a?(console.error("[v0] Error updating router session:",a),null):s}async function l(e,t){let r=(0,n.e)();try{var s;let{data:n,error:a}=await r.from("router_sessions").update({converted_to_user_id:t,conversion_date:new Date().toISOString()}).eq("session_token",e).select().single();if(a)return console.error("[v0] Error converting router session:",a),{success:!1};return await r.from("analytics_events").insert({event_name:"router_conversion_complete",user_id:t,session_id:e,event_data:{session_id:n.id,recommended_path:n.recommended_path,eligibility_score:null===(s=n.eligibility_assessment)||void 0===s?void 0:s.eligibility_score},page_url:window.location.href,user_agent:navigator.userAgent,created_at:new Date().toISOString()}),{success:!0,sessionData:n}}catch(e){return console.error("[v0] Conversion error:",e),{success:!1}}}},4607:function(e,t,r){"use strict";r.d(t,{e:function(){return a}});var n=r(1562),s=r(7706);function a(){return(0,n.createBrowserClient)(s.env.NEXT_PUBLIC_SUPABASE_URL,s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},2151:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var n=r(3732),s=r(192);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,n.W)(t))}},1128:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(225);let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,n.forwardRef)((e,t)=>{let{color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:l="",children:d,iconNode:u,...m}=e;return(0,n.createElement)("svg",{ref:t,...i,width:s,height:s,stroke:r,strokeWidth:c?24*Number(o)/Number(s):o,className:a("lucide",l),...m},[...u.map(e=>{let[t,r]=e;return(0,n.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let r=(0,n.forwardRef)((r,i)=>{let{className:c,...l}=r;return(0,n.createElement)(o,{ref:i,iconNode:t,className:a("lucide-".concat(s(e)),c),...l})});return r.displayName="".concat(e),r}},923:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1128).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},2680:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1128).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},8566:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1128).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2116:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1128).Z)("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},6382:function(e,t,r){"use strict";r.d(t,{Z:function(){return n}});let n=(0,r(1128).Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},4149:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var n=r(3708),s=r.n(n)},3943:function(e,t,r){"use strict";var n=r(3747);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})}},function(e){e.O(0,[688,708,562,660,648,744],function(){return e(e.s=5145)}),_N_E=e.O()}]);