(()=>{var e={};e.id=6500,e.ids=[6500],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},17360:e=>{"use strict";e.exports=require("url")},71568:e=>{"use strict";e.exports=require("zlib")},58226:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o}),s(16589),s(56497),s(69342);var t=s(4494),r=s(72433),i=s(76052),n=s.n(i),l=s(25639),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(a,d);let o=["",{children:["app",{children:["case",{children:["[id]",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,16589)),"/workspaces/cursor-guidebuoy-ai-sg/app/app/case/[id]/dashboard/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,88133)),"/workspaces/cursor-guidebuoy-ai-sg/app/app/case/[id]/dashboard/loading.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,56497)),"/workspaces/cursor-guidebuoy-ai-sg/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69342,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/cursor-guidebuoy-ai-sg/app/app/case/[id]/dashboard/page.tsx"],u="/app/case/[id]/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/app/case/[id]/dashboard/page",pathname:"/app/case/[id]/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},25416:(e,a,s)=>{Promise.resolve().then(s.bind(s,51435))},1721:(e,a,s)=>{Promise.resolve().then(s.bind(s,88056))},67247:(e,a,s)=>{Promise.resolve().then(s.t.bind(s,12251,23)),Promise.resolve().then(s.t.bind(s,87096,23)),Promise.resolve().then(s.t.bind(s,83935,23)),Promise.resolve().then(s.t.bind(s,92911,23)),Promise.resolve().then(s.t.bind(s,11269,23)),Promise.resolve().then(s.t.bind(s,94428,23))},15602:()=>{},51435:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>I});var t=s(81484),r=s(61866),i=s(64193),n=s(17148),l=s(26289),d=s(60564),o=s(58234),c=s(75511),u=s(822),m=s(15909),p=s(62051),x=s(74582),h=s(64704);let f=(0,h.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var g=s(75834),v=s(35605),y=s(95780),b=s(8371),j=s(50178);let N=(0,h.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var w=s(2439),k=s(76816);let _=(0,h.Z)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var C=s(90620),P=s(99762),Z=s(37108);async function q(e,a,s,t,r){let i=(0,n.e)(),l=s.name.split(".").pop(),d=`${Date.now()}-${Math.random().toString(36).substring(7)}.${l}`,o=`${e}/${t}/${d}`,{data:c,error:u}=await i.storage.from("evidence").upload(o,s,{cacheControl:"3600",upsert:!1});if(u)throw u;let{data:m,error:p}=await i.from("evidence").insert({case_id:e,user_id:a,filename:s.name,file_path:o,file_type:s.type,file_size:s.size,description:r||s.name,category:t}).select().single();if(p)throw p;return await i.from("analytics_events").insert({user_id:a,event_name:"evidence_uploaded",event_data:{case_id:e,filename:s.name,category:t,file_size:s.size},page_url:window.location.href,user_agent:navigator.userAgent}),m}async function S(e,a){let s=(0,n.e)(),{data:t}=await s.from("evidence").select("*").eq("id",e).single();if(!t)throw Error("Evidence not found");await s.storage.from("evidence").remove([t.file_path]),await s.from("evidence").delete().eq("id",e),await s.from("analytics_events").insert({user_id:a,event_name:"evidence_deleted",event_data:{case_id:t.case_id,evidence_id:e},page_url:window.location.href,user_agent:navigator.userAgent})}let z=[{key:"institution_name",question:"What is the name of the financial institution?",type:"text",required:!0,placeholder:"e.g., DBS Bank, OCBC Bank, Great Eastern"},{key:"account_details",question:"What are your account/policy details?",type:"textarea",required:!0,placeholder:"Account number, policy number, or other relevant identifiers"},{key:"incident_summary",question:"Describe what happened in detail",type:"textarea",required:!0,placeholder:"Provide a chronological account of events, including dates, amounts, and key interactions"},{key:"financial_impact",question:"What is the financial impact?",type:"textarea",required:!0,placeholder:"Describe losses, damages, or financial harm you've experienced"},{key:"desired_outcome",question:"What outcome are you seeking?",type:"textarea",required:!0,placeholder:"e.g., Full refund of $5,000, reversal of charges, policy reinstatement"},{key:"previous_contact",question:"Have you contacted the institution about this issue?",type:"radio",options:["Yes","No"],required:!0},{key:"contact_details",question:"Describe your previous contact attempts",type:"textarea",required:!1,placeholder:"When did you contact them? What was their response?",showIf:{key:"previous_contact",value:"Yes"}}];function I(){let[e,a]=(0,r.useState)(null),[s,h]=(0,r.useState)(null),[I,M]=(0,r.useState)(!0),[D,$]=(0,r.useState)(null),A=(0,i.useRouter)(),F=(0,i.useParams)().id,[O,E]=(0,r.useState)(0),[B,T]=(0,r.useState)({}),[U,G]=(0,r.useState)(!1),[R,Y]=(0,r.useState)(!1),[H,W]=(0,r.useState)([]),[L,V]=(0,r.useState)(!1),[X,K]=(0,r.useState)({}),[J,Q]=(0,r.useState)(!1),[ee,ea]=(0,r.useState)([]),[es,et]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(""),[en,el]=(0,r.useState)(!1),[ed,eo]=(0,r.useState)(!1),ec=async()=>{let e=(0,n.e)();await e.auth.signOut(),A.push("/")},eu=async()=>{let e=z[O];(!e.required||B[e.key])&&(O<z.length-1?E(O+1):await em())},em=async()=>{G(!0);let a=(0,n.e)();try{let s=Object.entries(B).map(([e,s])=>a.from("case_responses").upsert({case_id:F,question_key:e,response_value:s,response_type:z.find(a=>a.key===e)?.type||"text"},{onConflict:"case_id,question_key"}));await Promise.all(s),await a.from("cases").update({status:"evidence",updated_at:new Date().toISOString()}).eq("id",F),await a.from("analytics_events").insert({user_id:e.user_id,event_name:"intake_complete",event_data:{case_id:F},page_url:window.location.href,user_agent:navigator.userAgent}),Y(!0)}catch(e){console.error("Error completing intake:",e)}finally{G(!1)}},ep=(0,r.useCallback)(async e=>{if(!s||0===e.length||!D)return;V(!0),ea([]);let a=[];try{let s=Array.from(e);for(let e=0;e<s.length;e++){let t=s[e],r=`${Date.now()}-${e}`;if(t.size>10485760){a.push(`${t.name} is too large (max 10MB)`);continue}if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/gif","text/plain","text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(t.type)){a.push(`${t.name} has an unsupported format`);continue}K(e=>({...e,[r]:0}));try{let e=setInterval(()=>{K(a=>{let s=a[r]||0;return s>=90?(clearInterval(e),a):{...a,[r]:s+10}})},100),a=await q(F,D.id,t,"evidence",`Uploaded: ${t.name}`);clearInterval(e),K(e=>({...e,[r]:100})),W(e=>[...e,{id:a.id,filename:a.filename,file_type:a.file_type,file_size:a.file_size,category:a.category}]),setTimeout(()=>{K(e=>{let a={...e};return delete a[r],a})},1e3)}catch(e){console.error("Upload error:",e),a.push(`Failed to upload ${t.name}`),K(e=>{let a={...e};return delete a[r],a})}}a.length>0&&ea(a)}finally{V(!1)}},[s,D,F]),ex=(0,r.useCallback)(async e=>{if(D)try{await S(e,D.id),W(a=>a.filter(a=>a.id!==e))}catch(e){console.error("Delete error:",e),alert("Failed to delete file. Please try again.")}},[D]),eh=(0,r.useCallback)(e=>{e.preventDefault(),Q(!1),ep(e.dataTransfer.files)},[ep]),ef=(0,r.useCallback)(e=>{e.preventDefault(),Q(!0)},[]),eg=(0,r.useCallback)(e=>{e.preventDefault(),Q(!1)},[]),ev=async()=>{if(er&&D){el(!0);try{(await fetch(`/api/cases/${F}/share`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:er})})).ok&&(eo(!0),ei(""),setTimeout(()=>eo(!1),3e3))}catch(e){console.error("Error sending invite:",e)}finally{el(!1)}}},ey=async()=>{try{et(!0);let e=await fetch("/api/payments/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({caseId:F})}),a=await e.json();if(!e.ok)throw Error(a.error||"Failed to start checkout");a.url&&(window.location.href=a.url)}catch(e){console.error("Checkout error:",e),alert("Unable to start checkout. Please try again.")}finally{et(!1)}},eb=e=>{if(0===e)return"0 Bytes";let a=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},ej=e=>e.startsWith("image/")?t.jsx(f,{className:"h-5 w-5 text-blue-600"}):e.includes("pdf")?t.jsx(g.Z,{className:"h-5 w-5 text-red-600"}):e.includes("word")||e.includes("document")?t.jsx(g.Z,{className:"h-5 w-5 text-blue-700"}):e.includes("excel")||e.includes("spreadsheet")?t.jsx(g.Z,{className:"h-5 w-5 text-green-600"}):t.jsx(g.Z,{className:"h-5 w-5 text-muted-foreground"});if(I)return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Loading dashboard..."})]})});if(e?.claim_type!=="fidrec_scam"&&e?.claim_type!=="fidrec_fraud")return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:(0,t.jsxs)(l.Zb,{className:"max-w-md w-full rounded-xl",children:[(0,t.jsxs)(l.Ol,{children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx(v.Z,{className:"h-12 w-12 text-destructive"})}),t.jsx(l.ll,{className:"text-center",children:"Case Type Not Supported"})]}),(0,t.jsxs)(l.aY,{className:"text-center space-y-4",children:[t.jsx("p",{className:"text-muted-foreground",children:"This MVP currently only supports FIDReC scam and fraud cases. Other case types will be available soon."}),t.jsx(d.z,{onClick:()=>A.push("/"),className:"w-full rounded-full",children:"Return Home"})]})]})});let eN=z[O],ew=(O+1)/z.length*100;return(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[t.jsx("header",{className:"border-b border-border/50 bg-card/50 backdrop-blur-sm sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)(P.default,{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-primary flex items-center justify-center",children:t.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"GB"})}),t.jsx("span",{className:"font-semibold text-lg",children:"GuideBuoy AI"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx(o.C,{variant:"secondary",className:"rounded-full",children:e?.claim_type?.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}),s&&t.jsx(o.C,{variant:"default",className:"bg-accent text-accent-foreground rounded-full",children:"Premium Access"}),D&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:D.email}),t.jsx(d.z,{variant:"outline",size:"sm",onClick:ec,className:"rounded-full bg-transparent",children:"Sign Out"})]})]})]})})}),t.jsx("div",{className:"bg-accent/10 border-b border-accent/20 py-2",children:t.jsx("div",{className:"container mx-auto px-4",children:(0,t.jsxs)("p",{className:"text-sm text-foreground text-center",children:[t.jsx("strong",{children:"Disclaimer:"})," GuideBuoy AI is an AI assistant, not a law firm. We provide guidance, not legal advice."]})})}),t.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[t.jsx(l.Zb,{className:"bg-gradient-to-r from-primary/5 to-accent/5 border-primary/20 rounded-xl",children:t.jsx(l.Ol,{children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(Z.default,{src:"https://hebbkx1anhila5yf.public.blob.vercel-storage.com/GuideBuoy%20AI%20Lumi.jpg-aoPz1T5V8wp6KMHOH8WvFjPT811qv1.jpeg",alt:"Lumi",width:60,height:60,className:"rounded-full"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(l.ll,{className:"text-xl mb-2 text-balance",children:s?R?0===H.length?"Upload your evidence":"Your case is ready!":"Let's build your case story":"Ready to unlock your case pack?"}),t.jsx("p",{className:"text-muted-foreground mb-4 text-pretty",children:s?R?0===H.length?"Add supporting documents to strengthen your case.":"Review your information and generate your professional case pack.":"Answer a few questions to build a strong foundation for your FIDReC submission.":"Get professional documents and step-by-step guidance for S$99."}),!s&&t.jsx(d.z,{size:"lg",className:"rounded-full",onClick:ey,disabled:es,children:es?(0,t.jsxs)(t.Fragment,{children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Redirecting to Checkout..."]}):t.jsx(t.Fragment,{children:"Unlock Case Pack - S$99"})})]})]})})}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)(l.Zb,{className:"rounded-xl",children:[t.jsx(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[t.jsx(g.Z,{className:"h-5 w-5"}),"Case Details"]})}),(0,t.jsxs)(l.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Case Type:"}),t.jsx("span",{className:"font-medium",children:e?.claim_type?.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Status:"}),t.jsx(o.C,{variant:"secondary",className:"rounded-full",children:e?.status})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Eligibility:"}),t.jsx(o.C,{variant:e?.eligibility_status==="eligible"?"default":"secondary",className:"rounded-full bg-accent text-accent-foreground",children:e?.eligibility_status})]}),e?.claim_amount&&(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),(0,t.jsxs)("span",{className:"font-medium",children:["S$",e.claim_amount.toLocaleString()]})]}),e?.strength_score&&(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-muted-foreground",children:"Strength:"}),t.jsx(o.C,{variant:"high"===e.strength_score?"default":"medium"===e.strength_score?"secondary":"destructive",className:"rounded-full",children:e.strength_score})]})]})]}),(0,t.jsxs)(l.Zb,{className:"rounded-xl",children:[t.jsx(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[t.jsx(b.Z,{className:"h-5 w-5"}),"Progress Tracker"]})}),(0,t.jsxs)(l.aY,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Case Intake:"}),t.jsx(o.C,{variant:R?"default":"secondary",className:"rounded-full",children:R?"Complete":"In Progress"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Evidence Upload:"}),(0,t.jsxs)(o.C,{variant:H.length>0?"default":"secondary",className:"rounded-full bg-accent text-accent-foreground",children:[H.length," files"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-muted-foreground",children:"Documents:"}),t.jsx(o.C,{variant:"secondary",className:"rounded-full",children:"Ready to Generate"})]})]})]})]}),s&&!R&&(0,t.jsxs)(l.Zb,{className:"rounded-xl border-primary/20",children:[(0,t.jsxs)(l.Ol,{children:[t.jsx(l.ll,{children:"Guided Case Intake"}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Question ",O+1," of ",z.length]}),t.jsx(x.E,{value:ew,className:"h-2 w-1/2"})]})]}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx(u._,{className:"text-lg font-semibold mb-3 block",children:eN.question}),eN.required&&t.jsx(o.C,{variant:"secondary",className:"mb-3",children:"Required"}),"text"===eN.type&&t.jsx(c.I,{type:"text",value:B[eN.key]||"",onChange:e=>T(a=>({...a,[eN.key]:e.target.value})),placeholder:eN.placeholder,className:"mt-2"}),"textarea"===eN.type&&t.jsx(m.g,{value:B[eN.key]||"",onChange:e=>T(a=>({...a,[eN.key]:e.target.value})),placeholder:eN.placeholder,rows:6,className:"mt-2"}),"radio"===eN.type&&t.jsx(p.E,{value:B[eN.key]||"",onValueChange:e=>T(a=>({...a,[eN.key]:e})),children:eN.options?.map(e=>t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(p.m,{value:e,id:e}),t.jsx(u._,{htmlFor:e,children:e})]},e))})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-4",children:[t.jsx(d.z,{variant:"outline",onClick:()=>{O>0&&E(O-1)},disabled:0===O,className:"rounded-full bg-transparent",children:"Back"}),t.jsx(d.z,{onClick:eu,disabled:eN.required&&!B[eN.key]||U,className:"rounded-full",children:U?(0,t.jsxs)(t.Fragment,{children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):O===z.length-1?"Complete Intake":(0,t.jsxs)(t.Fragment,{children:["Next",t.jsx(j.Z,{className:"h-4 w-4 ml-2"})]})})]})]})]}),s&&R&&(0,t.jsxs)(l.Zb,{className:"rounded-xl",children:[t.jsx(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[t.jsx(N,{className:"h-5 w-5"}),"Upload Evidence"]})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ${J?"border-primary bg-primary/10 scale-[1.02] shadow-lg":"border-border hover:border-primary/50 hover:bg-accent/5"}`,onDrop:eh,onDragOver:ef,onDragLeave:eg,children:[t.jsx("div",{className:`transition-transform duration-200 ${J?"scale-110":"scale-100"}`,children:t.jsx(N,{className:`h-12 w-12 mx-auto mb-4 transition-colors ${J?"text-primary":"text-muted-foreground"}`})}),t.jsx("p",{className:"text-lg font-medium mb-2",children:J?"Drop your files here":"Drop files here or click to upload"}),t.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"PDF, images, Word docs, Excel files. Max 10MB per file."}),t.jsx(c.I,{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png,.gif,.txt,.csv,.xls,.xlsx",onChange:e=>e.target.files&&ep(e.target.files),className:"hidden",id:"file-upload",disabled:L}),t.jsx(u._,{htmlFor:"file-upload",children:t.jsx(d.z,{variant:"outline",disabled:L,className:"rounded-full bg-transparent",asChild:!0,children:t.jsx("span",{children:L?(0,t.jsxs)(t.Fragment,{children:[t.jsx(y.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(N,{className:"h-4 w-4 mr-2"}),"Choose Files"]})})})}),ee.length>0&&t.jsx("div",{className:"mt-4 space-y-2",children:ee.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-destructive bg-destructive/10 p-3 rounded-lg",children:[t.jsx(v.Z,{className:"h-4 w-4 flex-shrink-0"}),t.jsx("p",{className:"text-sm text-left",children:e})]},a))}),Object.entries(X).length>0&&t.jsx("div",{className:"mt-4 space-y-3",children:Object.entries(X).map(([e,a])=>(0,t.jsxs)("div",{className:"bg-accent/50 p-3 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("p",{className:"text-sm font-medium",children:"Uploading..."}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[a,"%"]})]}),t.jsx(x.E,{value:a,className:"h-2"})]},e))})]}),H.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(u._,{className:"text-base font-semibold",children:"Uploaded Files"}),(0,t.jsxs)(o.C,{variant:"secondary",className:"rounded-full",children:[H.length," ",1===H.length?"file":"files"]})]}),t.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:H.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-xl bg-card hover:bg-accent/5 transition-colors group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t.jsx("div",{className:"flex-shrink-0",children:ej(e.file_type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium text-sm truncate",children:e.filename}),t.jsx("p",{className:"text-xs text-muted-foreground",children:eb(e.file_size)})]})]}),t.jsx(d.z,{variant:"ghost",size:"sm",onClick:()=>ex(e.id),className:"text-muted-foreground hover:text-destructive hover:bg-destructive/10 rounded-full flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:t.jsx(w.Z,{className:"h-4 w-4"})})]},e.id))})]})]})]}),s&&(0,t.jsxs)(l.Zb,{className:"rounded-xl border-accent/20 bg-accent/5",children:[t.jsx(l.Ol,{children:(0,t.jsxs)(l.ll,{className:"flex items-center gap-2",children:[t.jsx(k.Z,{className:"h-5 w-5 text-accent"}),"Invite a Helper"]})}),(0,t.jsxs)(l.aY,{className:"space-y-3",children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:"Need assistance? Invite a family member, friend, or advocate to collaborate on your case."}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(c.I,{type:"email",placeholder:"helper@example.com",value:er,onChange:e=>ei(e.target.value),className:"flex-1"}),t.jsx(d.z,{onClick:ev,disabled:!er||en,className:"rounded-full",children:en?t.jsx(y.Z,{className:"h-4 w-4 animate-spin"}):(0,t.jsxs)(t.Fragment,{children:[t.jsx(_,{className:"h-4 w-4 mr-2"}),"Send"]})})]}),ed&&t.jsx("p",{className:"text-sm text-accent font-medium",children:"✓ Invitation sent successfully!"})]})]}),s&&R&&H.length>0&&t.jsx(l.Zb,{className:"bg-gradient-to-r from-primary/10 to-accent/10 border-primary/30 rounded-xl",children:t.jsx(l.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h3",{className:"font-semibold text-xl mb-2",children:"Ready to Generate Your Case Pack!"}),(0,t.jsxs)("p",{className:"text-muted-foreground mb-6",children:["You've completed intake and uploaded ",H.length," pieces of evidence. Generate your professional FIDReC documents now."]}),(0,t.jsxs)(d.z,{size:"lg",className:"rounded-full",children:[t.jsx(C.Z,{className:"h-5 w-5 mr-2"}),"Generate & Download Case Pack"]})]})})})]})})]})}},58234:(e,a,s)=>{"use strict";s.d(a,{C:()=>d});var t=s(81484);s(61866);var r=s(37883),i=s(98573),n=s(34115);let l=(0,i.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:a,asChild:s=!1,...i}){let d=s?r.g7:"span";return t.jsx(d,{"data-slot":"badge",className:(0,n.cn)(l({variant:a}),e),...i})}},60564:(e,a,s)=>{"use strict";s.d(a,{z:()=>d});var t=s(81484);s(61866);var r=s(37883),i=s(98573),n=s(34115);let l=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2.5 has-[>svg]:px-4",sm:"h-9 gap-1.5 px-4 has-[>svg]:px-3.5",lg:"h-11 px-7 has-[>svg]:px-5",icon:"size-10"}},defaultVariants:{variant:"default",size:"default"}});function d({className:e,variant:a,size:s,asChild:i=!1,...d}){let o=i?r.g7:"button";return t.jsx(o,{"data-slot":"button",className:(0,n.cn)(l({variant:a,size:s,className:e})),...d})}},26289:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>n,SZ:()=>d,Zb:()=>i,aY:()=>o,ll:()=>l});var t=s(81484);s(61866);var r=s(34115);function i({className:e,...a}){return t.jsx("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function n({className:e,...a}){return t.jsx("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function l({className:e,...a}){return t.jsx("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...a})}function d({className:e,...a}){return t.jsx("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...a})}function o({className:e,...a}){return t.jsx("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...a})}},75511:(e,a,s)=>{"use strict";s.d(a,{I:()=>i});var t=s(81484);s(61866);var r=s(34115);function i({className:e,type:a,...s}){return t.jsx("input",{type:a,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-lg border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}},822:(e,a,s)=>{"use strict";s.d(a,{_:()=>n});var t=s(81484);s(61866);var r=s(68181),i=s(34115);function n({className:e,...a}){return t.jsx(r.f,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},74582:(e,a,s)=>{"use strict";s.d(a,{E:()=>j});var t=s(81484),r=s(61866),i=s(85320),n=s(51980),l="Progress",[d,o]=(0,i.b)(l),[c,u]=d(l),m=r.forwardRef((e,a)=>{var s,r;let{__scopeProgress:i,value:l=null,max:d,getValueLabel:o=h,...u}=e;(d||0===d)&&!v(d)&&console.error((s=`${d}`,`Invalid prop \`max\` of value \`${s}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let m=v(d)?d:100;null===l||y(l,m)||console.error((r=`${l}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let p=y(l,m)?l:null,x=g(p)?o(p,m):void 0;return(0,t.jsx)(c,{scope:i,value:p,max:m,children:(0,t.jsx)(n.WV.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(p)?p:void 0,"aria-valuetext":x,role:"progressbar","data-state":f(p,m),"data-value":p??void 0,"data-max":m,...u,ref:a})})});m.displayName=l;var p="ProgressIndicator",x=r.forwardRef((e,a)=>{let{__scopeProgress:s,...r}=e,i=u(p,s);return(0,t.jsx)(n.WV.div,{"data-state":f(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:a})});function h(e,a){return`${Math.round(e/a*100)}%`}function f(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function g(e){return"number"==typeof e}function v(e){return g(e)&&!isNaN(e)&&e>0}function y(e,a){return g(e)&&!isNaN(e)&&e<=a&&e>=0}x.displayName=p;var b=s(34115);function j({className:e,value:a,...s}){return t.jsx(m,{"data-slot":"progress",className:(0,b.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...s,children:t.jsx(x,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(a||0)}%)`}})})}},62051:(e,a,s)=>{"use strict";s.d(a,{E:()=>l,m:()=>d});var t=s(81484);s(61866);var r=s(81609),i=s(6444),n=s(34115);function l({className:e,...a}){return t.jsx(r.fC,{"data-slot":"radio-group",className:(0,n.cn)("grid gap-3",e),...a})}function d({className:e,...a}){return t.jsx(r.ck,{"data-slot":"radio-group-item",className:(0,n.cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:t.jsx(r.z$,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:t.jsx(i.Z,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}},15909:(e,a,s)=>{"use strict";s.d(a,{g:()=>i});var t=s(81484);s(61866);var r=s(34115);function i({className:e,...a}){return t.jsx("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-lg border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}},17148:(e,a,s)=>{"use strict";s.d(a,{e:()=>r});var t=s(87784);function r(){return(0,t.createBrowserClient)(process.env.NEXT_PUBLIC_SUPABASE_URL,process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)}},34115:(e,a,s)=>{"use strict";s.d(a,{cn:()=>i});var t=s(59459),r=s(12306);function i(...e){return(0,r.m6)((0,t.W)(e))}},50178:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},35605:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},8371:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},90620:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},75834:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},95780:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2439:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76816:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(64704).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},88133:(e,a,s)=>{"use strict";function t(){return null}s.r(a),s.d(a,{default:()=>t})},16589:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(42466).createProxy)(String.raw`/workspaces/cursor-guidebuoy-ai-sg/app/app/case/[id]/dashboard/page.tsx#default`)},56497:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o,metadata:()=>d});var t=s(61186),r=s(15126),i=s.n(r),n=s(44060),l=s(1052);s(41526);let d={title:"GuideBuoy AI - Your Financial Dispute Guide",description:"Navigate financial disputes with confidence. AI-powered assistance for FIDReC cases against banks and insurers in Singapore.",generator:"v0.app"};function o({children:e}){return t.jsx("html",{lang:"en",children:(0,t.jsxs)("body",{className:`font-sans ${i().variable}`,children:[t.jsx(l.Suspense,{fallback:null,children:e}),t.jsx(n.c,{})]})})}},41526:()=>{}};var a=require("../../../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[2461,1929,4405,1374,7784,6839,1543,12,3348],()=>s(58226));module.exports=t})();